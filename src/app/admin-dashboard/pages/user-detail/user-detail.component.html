<h1 class="text-2xl font-bold text-secondary">
    {{ user().first_name }} {{ user().last_name }}
</h1>

<div class="divider divider-secondary"></div>

<form [formGroup]="userForm" class="grid grid-cols-1 sm:grid-cols-2 gap-4"
(ngSubmit)="onSubmit()">

<div class="flex flex-col gap-2">
    <h2>Datos del Usuario</h2>
    <input type="text" placeholder="first_name" 
    class="input input-bordered w-full" 
    formControlName="first_name">

    <input type="text" placeholder="last_name" 
    class="input input-bordered w-full" 
    formControlName="last_name">

    <input type="email" placeholder="Email" 
    class="input input-bordered w-full" 
    formControlName="email">

    <input type="text" placeholder="telephone" 
    class="input input-bordered w-full" 
    formControlName="telephone"/>

    @if (user().id === 'new') {
    <input type="text" placeholder="password" 
    class="input input-bordered w-full" 
    formControlName="password"/>
    }

    <select class="select select-bordered w-full" formControlName="role_id">
            <option [value]="0"> Seleccionar un Role</option>
            @for (role of rolesResource.value()?.data?.roles; track role.id) {
            <option [value]="role.id">{{ role.name }}</option>
            }   
    </select>

    <div class="flex justify-end h-12">
            <button class="btn btn-secondary" type="submit">
                <!-- <span class="loading loading-spinner loading-sm"></span> -->
                Guardar
            </button>  
    </div>
</div>

  <div class="flex flex-col gap-2 h-[500px]">
    <div class="flex items-center justify-center">
        @if (!previewIMG) {
         <img class="object-contain animate-fadeIn h-[300px]"
             [src]="user().id | userImage"
             [alt]="user().avatar"
             width="500"
             height="500"
             priority
             /> 
        }@else {
             <img class="object-contain animate-fadeIn h-[300px]"
             [src]="previewURL"
             [alt]="user().avatar"
             width="500"
             height="500"
             priority
             /> 
        }
    </div>

    <input 
            type="file" 
            accept="image/*"
            class="file-input file-input-bordered w-full mt-4" 
            formControlName="avatar"
            (change)="onFilesChange($event)"
            />
  </div>    
</form>